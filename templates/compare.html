{% extends "base.html" %}

{% block head %}
  <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="/static/js/bars.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
        create_barchart_horiz();
    });
  </script>
{% endblock %}

{% block subtitle %}<h3>Comparison</h3>{% endblock %}


{% block content %}
  <table class="compare-table">
    <tr>
      <th>Hospital</th>
      {% for header in headers %}
        <th>{{ header }}</th>
      {% endfor %}

      {% for place in rows %}
        <tr>
          <td>{{ place.name }}</td>
          <td class="rating" id="c-rat-{{place.id}}">{{ place.cleanliness }}</td>
          <td class="rating" id="s-rat-{{place.id}}">{{ place.staff }}</td>
          <td class="rating" id="d-rat-{{place.id}}">{{ place.dignity }}</td>
          <td class="rating" id="i-rat-{{place.id}}">{{ place.involved }}</td>
          <td>
            {% if place.number_of_services %}
              {{ place.number_of_services }}
            {% else %}
              No data
            {% endif %}
          </td>
        </tr>
      {% endfor %}
    </tr>
  </table>
{% endblock %}
